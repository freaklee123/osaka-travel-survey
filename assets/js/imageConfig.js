// 日本旅游网站图片配置文件
const imageConfig = {
    // 首页背景和装饰图片
    homepage: {
        heroBackground: 'https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?w=1200&h=600&fit=crop',
        osaka: 'https://images.unsplash.com/photo-1590559899731-a382839e5549?w=400&h=300&fit=crop',
        kyoto: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop',
        nara: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=400&h=300&fit=crop'
    },

    // 景点图片
    attractions: {
        universal: 'https://images.unsplash.com/photo-1606207984529-20c0e6e3c5d1?w=500&h=300&fit=crop',
        osaka_castle: 'https://images.unsplash.com/photo-1590559899731-a382839e5549?w=500&h=300&fit=crop',
        kiyomizu: 'https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=500&h=300&fit=crop',
        fushimi: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=500&h=300&fit=crop',
        bamboo_grove: 'https://images.unsplash.com/photo-1542051841857-5f90071e7989?w=500&h=300&fit=crop',
        nara_park: 'https://images.unsplash.com/photo-1590559899731-a382839e5549?w=500&h=300&fit=crop',
        kobe_harbor: 'https://images.unsplash.com/photo-1590559899731-a382839e5549?w=500&h=300&fit=crop',
        dotonbori: 'https://images.unsplash.com/photo-1590559899731-a382839e5549?w=500&h=300&fit=crop'
    },

    // 美食图片
    food: {
        takoyaki: 'https://images.unsplash.com/photo-1611599481672-9c07fccb5ce2?w=400&h=300&fit=crop',
        ramen: 'https://images.unsplash.com/photo-1591814468924-caf88d1232e1?w=400&h=300&fit=crop',
        sushi: 'https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=400&h=300&fit=crop',
        kaiseki: 'https://images.unsplash.com/photo-1590300089929-d4ecb57db05e?w=400&h=300&fit=crop',
        yakitori: 'https://images.unsplash.com/photo-1590557928474-1b2d2e47b7b9?w=400&h=300&fit=crop',
        tempura: 'https://images.unsplash.com/photo-1590557928474-1b2d2e47b7b9?w=400&h=300&fit=crop',
        wagyu: 'https://images.unsplash.com/photo-1588168333986-5078d3ae3976?w=400&h=300&fit=crop',
        matcha: 'https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=400&h=300&fit=crop'
    },

    // 酒店图片
    hotels: {
        luxury: 'https://images.unsplash.com/photo-1590490360182-c33d57733427?w=500&h=300&fit=crop',
        business: 'https://images.unsplash.com/photo-1590490360182-c33d57733427?w=500&h=300&fit=crop',
        ryokan: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=500&h=300&fit=crop',
        capsule: 'https://images.unsplash.com/photo-1555854877-bab0e4b8cd5c?w=500&h=300&fit=crop'
    },

    // 交通图片
    transport: {
        shinkansen: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=500&h=300&fit=crop',
        subway: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=500&h=300&fit=crop',
        airport: 'https://images.unsplash.com/photo-1544728075-be5dd0c4029c?w=500&h=300&fit=crop',
        bus: 'https://images.unsplash.com/photo-1544728075-be5dd0c4029c?w=500&h=300&fit=crop'
    },

    // 文化图片
    culture: {
        temple: 'https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=500&h=300&fit=crop',
        ceremony: 'https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=500&h=300&fit=crop',
        kimono: 'https://images.unsplash.com/photo-1590300089929-d4ecb57db05e?w=400&h=300&fit=crop',
        garden: 'https://images.unsplash.com/photo-1542051841857-5f90071e7989?w=500&h=300&fit=crop'
    },

    // 购物图片
    shopping: {
        electronics: 'https://images.unsplash.com/photo-1560472355-536de3962603?w=400&h=300&fit=crop',
        anime: 'https://images.unsplash.com/photo-1560472355-536de3962603?w=400&h=300&fit=crop',
        fashion: 'https://images.unsplash.com/photo-1560472355-536de3962603?w=400&h=300&fit=crop',
        souvenir: 'https://images.unsplash.com/photo-1560472355-536de3962603?w=400&h=300&fit=crop'
    },

    // 季节图片
    seasons: {
        autumn: 'https://images.unsplash.com/photo-1542051841857-5f90071e7989?w=600&h=400&fit=crop',
        spring: 'https://images.unsplash.com/photo-1522383225653-ed111181a951?w=600&h=400&fit=crop',
        summer: 'https://images.unsplash.com/photo-1590559899731-a382839e5549?w=600&h=400&fit=crop',
        winter: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=600&h=400&fit=crop'
    },

    // 通用装饰图标
    icons: {
        cherry_blossom: 'https://images.unsplash.com/photo-1522383225653-ed111181a951?w=100&h=100&fit=crop',
        mount_fuji: 'https://images.unsplash.com/photo-1544551763-46a013bb70d5?w=100&h=100&fit=crop',
        torii: 'https://images.unsplash.com/photo-1545569341-9eb8b30979d9?w=100&h=100&fit=crop'
    }
};

// 图片加载函数
function loadImage(category, name, element, alt = '') {
    const imageUrl = imageConfig[category] && imageConfig[category][name];
    if (imageUrl && element) {
        element.src = imageUrl;
        element.alt = alt || `${category} ${name}`;
        element.loading = 'lazy';
        
        // 添加加载动画
        element.style.opacity = '0';
        element.style.transition = 'opacity 0.3s ease';
        
        element.onload = function() {
            this.style.opacity = '1';
        };
        
        element.onerror = function() {
            this.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuWbvueJh+WKoOi9veS4rTwvdGV4dD48L3N2Zz4=';
        };
    }
}

// 批量加载图片
function loadImagesForPage(pageType) {
    const images = document.querySelectorAll(`[data-image-category="${pageType}"]`);
    images.forEach(img => {
        const imageName = img.getAttribute('data-image-name');
        const altText = img.getAttribute('data-alt') || '';
        loadImage(pageType, imageName, img, altText);
    });
}

// 图片懒加载观察器
const imageObserver = new IntersectionObserver((entries, observer) => {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            const img = entry.target;
            const category = img.getAttribute('data-image-category');
            const name = img.getAttribute('data-image-name');
            const alt = img.getAttribute('data-alt') || '';
            
            loadImage(category, name, img, alt);
            observer.unobserve(img);
        }
    });
});

// 初始化图片懒加载
document.addEventListener('DOMContentLoaded', function() {
    const lazyImages = document.querySelectorAll('[data-image-category]');
    lazyImages.forEach(img => imageObserver.observe(img));
}); 